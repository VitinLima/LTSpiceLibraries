Version 4
SHEET 1 2560 1220
WIRE 2400 -464 2400 -496
WIRE -352 -432 -352 -464
WIRE 816 -432 784 -432
WIRE 672 -416 640 -416
WIRE 2400 -352 2400 -384
WIRE -352 -320 -352 -352
WIRE -2080 144 -2112 144
WIRE -1968 144 -2000 144
WIRE -800 208 -800 176
WIRE -2256 256 -2288 256
WIRE -2112 256 -2112 144
WIRE -2112 256 -2176 256
WIRE -2080 256 -2112 256
WIRE -1968 256 -2000 256
WIRE -1696 256 -1824 256
WIRE -496 256 -624 256
WIRE 784 256 736 256
WIRE 624 272 544 272
WIRE -624 320 -624 256
WIRE -576 320 -624 320
WIRE -496 336 -496 256
WIRE -496 336 -512 336
WIRE -416 336 -496 336
WIRE -1824 352 -1824 256
WIRE -1792 352 -1824 352
WIRE -800 352 -800 288
WIRE -576 352 -800 352
WIRE -2256 368 -2288 368
WIRE -2112 368 -2112 256
WIRE -2112 368 -2176 368
WIRE -2080 368 -2112 368
WIRE -1696 368 -1696 256
WIRE -1696 368 -1728 368
WIRE -1664 368 -1696 368
WIRE -1936 384 -2016 384
WIRE -1824 384 -1856 384
WIRE -1792 384 -1824 384
WIRE -800 384 -800 352
WIRE -2080 400 -2112 400
WIRE -1824 416 -1824 384
WIRE -2560 448 -2592 448
WIRE -2416 448 -2480 448
WIRE -800 496 -800 448
WIRE -1824 528 -1824 496
WIRE -2224 544 -2256 544
WIRE -2112 544 -2112 400
WIRE -2112 544 -2144 544
WIRE -2080 544 -2112 544
WIRE -1968 544 -2000 544
WIRE -2560 560 -2592 560
WIRE -2416 560 -2416 448
WIRE -2416 560 -2480 560
WIRE -2320 560 -2416 560
WIRE -560 608 -576 608
WIRE -448 608 -480 608
WIRE -208 624 -224 624
WIRE -96 624 -128 624
WIRE -2560 672 -2592 672
WIRE -2416 672 -2416 560
WIRE -2416 672 -2480 672
WIRE -688 736 -736 736
WIRE -576 736 -576 608
WIRE -576 736 -608 736
WIRE -544 736 -576 736
WIRE -448 752 -448 608
WIRE -448 752 -480 752
WIRE -336 752 -448 752
WIRE -224 752 -224 624
WIRE -224 752 -256 752
WIRE -192 752 -224 752
WIRE -544 768 -576 768
WIRE -96 768 -96 624
WIRE -96 768 -128 768
WIRE -16 768 -96 768
WIRE -192 784 -224 784
WIRE -16 800 -16 768
WIRE 288 848 160 848
WIRE -576 912 -576 768
WIRE -384 912 -576 912
WIRE -224 912 -224 784
WIRE -224 912 -384 912
WIRE 160 912 160 848
WIRE 208 912 160 912
WIRE 288 928 288 848
WIRE 288 928 272 928
WIRE 368 928 288 928
WIRE -16 944 -16 880
WIRE 208 944 -16 944
WIRE 368 960 368 928
WIRE -384 976 -384 912
WIRE -384 976 -448 976
WIRE -336 976 -384 976
WIRE -16 976 -16 944
WIRE 624 976 496 976
WIRE 496 1040 496 976
WIRE 544 1040 496 1040
WIRE 624 1056 624 976
WIRE 624 1056 608 1056
WIRE 704 1056 624 1056
WIRE 368 1072 368 1040
WIRE 544 1072 368 1072
WIRE -16 1088 -16 1040
WIRE 368 1088 368 1072
WIRE 368 1200 368 1168
FLAG -800 496 0
FLAG -800 176 XORout
FLAG -544 304 Vcc
FLAG -544 368 0
FLAG -1664 368 XORout
FLAG -352 -464 Vcc
FLAG -352 -320 0
FLAG 2400 -32 0
FLAG 2400 -496 SignalIn
FLAG -416 336 LowPassOut
FLAG -512 720 Vcc
FLAG -512 784 0
FLAG -256 976 0
FLAG -528 976 Vcc
FLAG -736 736 LowPassOut
FLAG -160 736 Vcc
FLAG -160 800 0
FLAG 704 1056 SignalOut
FLAG -16 1088 0
FLAG 240 896 Vcc
FLAG 240 960 0
FLAG 544 272 SignalOut
FLAG 640 -416 SignalIn
FLAG 816 -432 VcoOut1
FLAG 784 256 VcoOut2
FLAG -2288 576 0
FLAG -2048 416 0
FLAG -2048 352 Vcc
FLAG -2288 512 Vcc
FLAG -2320 528 Ref2
FLAG -1968 544 Vcc
FLAG -2592 560 VcoOut1
FLAG -2592 672 VcoOut2
FLAG -2592 448 0
FLAG -2288 256 VcoOut1
FLAG -2288 368 VcoOut2
FLAG -1968 256 0
FLAG -1968 144 Vcc
FLAG -1760 400 0
FLAG -1760 336 Vcc
FLAG -1824 528 0
FLAG 576 1024 Vcc
FLAG 576 1088 0
FLAG 368 1200 0
SYMBOL res -784 304 R180
WINDOW 0 36 76 Invisible 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value {Rf}
SYMBOL cap -784 448 R180
WINDOW 0 24 56 Invisible 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value {Cf}
SYMBOL voltage -352 -448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 43 50 Left 2
WINDOW 0 42 12 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName Vpower1
SYMATTR Value 5
SYMBOL voltage 2400 -480 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -157 57 Left 2
WINDOW 3 -78 108 Invisible 2
SYMATTR InstName VsignalIn1
SYMATTR Value PULSE(0 1 2m 100u 100u 0.9m 2m 5)
SYMBOL res -592 720 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL res -464 592 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL res -240 960 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R25
SYMATTR Value 5k
SYMBOL res -432 960 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 5k
SYMBOL res -240 736 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 1k
SYMBOL res -112 608 R90
WINDOW 0 0 56 Invisible 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value 3k
SYMBOL res 0 896 R180
WINDOW 0 36 76 Invisible 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R29
SYMATTR Value 10k
SYMBOL cap 0 1040 R180
WINDOW 0 24 56 Invisible 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL voltage 2400 -208 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -157 57 Left 2
WINDOW 3 -78 108 Invisible 2
SYMATTR InstName VsignalIn2
SYMATTR Value PULSE(0 1 17m 100u 100u 0.9m 1m 1)
SYMBOL voltage 2400 -128 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -157 57 Left 2
WINDOW 3 -78 108 Invisible 2
SYMATTR InstName VsignalLow1
SYMATTR Value 2V
SYMBOL voltage 2400 -368 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -157 57 Left 2
WINDOW 3 -78 108 Invisible 2
SYMATTR InstName VsignalIn3
SYMATTR Value PULSE(0 1 13m 100u 100u 0.9m 1m 1)
SYMBOL voltage 2400 -288 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -157 57 Left 2
WINDOW 3 -78 108 Invisible 2
SYMATTR InstName VsignalIn4
SYMATTR Value PULSE(0 1 14m 100u 100u 0.9m 2m 1)
SYMBOL VCO_comp 720 -416 R0
SYMATTR InstName VCO
SYMATTR SpiceLine fo={fo} k={k} Vcc={Vcc}
SYMBOL VCO_comp 672 272 R0
SYMATTR InstName VCO1
SYMATTR SpiceLine fo={fo} k={k} Vcc={Vcc}
SYMBOL OpAmps\\UniversalOpAmp2 -544 336 R0
SYMATTR InstName U2
SYMBOL OpAmps\\UniversalOpAmp2 -512 752 R0
SYMATTR InstName U3
SYMBOL OpAmps\\UniversalOpAmp2 -160 768 R0
SYMATTR InstName U4
SYMBOL OpAmps\\UniversalOpAmp2 240 928 R0
SYMATTR InstName U5
SYMBOL OpAmps\\UniversalOpAmp2 -2048 384 R0
SYMATTR InstName U6
SYMBOL OpAmps\\UniversalOpAmp2 -2288 544 R0
SYMATTR InstName U7
SYMBOL res -2464 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL res -2464 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {R}
SYMBOL res -2128 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL res -1984 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res -2464 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R}
SYMBOL res -2160 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R}
SYMBOL res -2160 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R}
SYMBOL res -1984 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {R}
SYMBOL res -1984 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {R}
SYMBOL OpAmps\\UniversalOpAmp2 -1760 368 R0
SYMATTR InstName U1
SYMBOL res -1840 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {R}
SYMBOL res -1840 400 R0
SYMATTR InstName R12
SYMATTR Value {R}
SYMBOL OpAmps\\UniversalOpAmp2 576 1056 R0
SYMATTR InstName U8
SYMBOL res 352 944 R0
SYMATTR InstName R13
SYMATTR Value {11*R}
SYMBOL res 352 1072 R0
SYMATTR InstName R14
SYMATTR Value {R}
TEXT -448 -568 Left 2 !.tran 20ms startup uic
TEXT -712 32 Right 2 ;Low pass filter
TEXT 392 -592 Left 2 ;Reference VCO frequency generator
TEXT 392 96 Left 2 ;Feedback VCO frequency generator
TEXT -560 176 Left 2 ;Buffer
TEXT -376 552 Left 2 ;Gain
TEXT 224 768 Left 2 ;Buffer
TEXT -1080 -536 Left 2 !.param fo=5k k=500 Vcc=12
TEXT -2288 88 Left 2 ;XOR gate
TEXT -1104 -480 Left 2 !.param R=10k
TEXT -128 -384 Left 2 !.param Cf=10n Rf=fo/Cf/10
TEXT 560 896 Left 2 ;Buffer
